<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Foundation Preferences</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" />
  <script>
    const translations = {
      en: {
        title: "Step 3 – Personal Preferences",
        intro: "Please select your preferences to receive personalized recommendations:",
        studyLang: "Preferred Study Language:",
        campusType: "Preferred Campus Type:",
        langOptions: ["English", "German"],
        campusOptions: ["Urban", "Rural"],
        learningType: "Learning Mode:",
        learningOptions: ["Online", "Hybrid", "On-Campus"],
        internship: "Do you want internship availability?",
        employment: "Important to have strong employment outcomes?",
        yes: "Yes",
        no: "No",
        next: "See Recommendation",
        goToDetails: "More Info"
      },
      ar: {
        title: "\u0627\u0644\u062e\u0637\u0648\u0629 3 \u2013 \u0627\u0644\u062a\u0641\u0636\u064a\u0644\u0627\u062a \u0627\u0644\u0634\u062e\u0635\u064a\u0629",
        intro: "\u064a\u0631\u062c\u0649 \u062a\u062d\u062f\u064a\u062f \u062a\u0641\u0636\u064a\u0644\u0627\u062a\u0643 \u0644\u0644\u062d\u0635\u0648\u0644 \u0639\u0644\u0649 \u062a\u0648\u0635\u064a\u0627\u062a \u0645\u062e\u0635\u0635\u0629:",
        studyLang: "\u0644\u063a\u0629 \u0627\u0644\u062f\u0631\u0627\u0633\u0629 \u0627\u0644\u0645\u0641\u0636\u0644\u0629:",
        campusType: "\u0646\u0648\u0639 \u0627\u0644\u062d\u0631\u0645 \u0627\u0644\u062c\u0627\u0645\u0639\u064a \u0627\u0644\u0645\u0641\u0636\u0644:",
        langOptions: ["\u0627\u0644\u0625\u0646\u062c\u0644\u064a\u0632\u064a\u0629", "\u0627\u0644\u0623\u0644\u0645\u0627\u0646\u064a\u0629"],
        campusOptions: ["\u0645\u062f\u064a\u0646\u0629", "\u0631\u064a\u0641"],
        learningType: "\u0646\u0645\u0637 \u0627\u0644\u062a\u0639\u0644\u0645:",
        learningOptions: ["\u0639\u0628\u0631 \u0627\u0644\u0625\u0646\u062a\u0631\u0646\u062a", "\u0647\u062c\u064a\u0646", "\u0641\u064a \u0627\u0644\u062d\u0631\u0645"],
        internship: "\u0647\u0644 \u062a\u0631\u063a\u0628 \u0641\u064a \u062a\u0648\u0641\u0631 \u062a\u062f\u0631\u064a\u0628 \u0639\u0645\u0644\u064a؟",
        employment: "\u0647\u0644 \u0645\u0646 \u0627\u0644\u0645\u0647\u0645 \u0627\u0644\u062d\u0635\u0648\u0644 \u0639\u0644\u0649 \u0641\u0631\u0635 \u062a\u0648\u0638\u064a\u0641 \u0642\u0648\u064a\u0629؟",
        yes: "\u0646\u0639\u0645",
        no: "\u0644\u0627",
        next: "\u0639\u0631\u0636 \u0627\u0644\u062a\u0648\u0635\u064a\u0629",
        goToDetails: "\u0645\u0632\u064a\u062f \u0645\u0646 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a"
      },
      de: {
        title: "Schritt 3 – Persönliche Präferenzen",
        intro: "Bitte wählen Sie Ihre Präferenzen für eine personalisierte Empfehlung:",
        studyLang: "Bevorzugte Studiensprache:",
        campusType: "Bevorzugter Campus-Typ:",
        langOptions: ["Englisch", "Deutsch"],
        campusOptions: ["Städtisch", "Ländlich"],
        learningType: "Lernmodus:",
        learningOptions: ["Online", "Hybrid", "Präsenz"],
        internship: "Möchten Sie ein Praktikum?",
        employment: "Wichtige Berufschancen?",
        yes: "Ja",
        no: "Nein",
        next: "Empfehlung anzeigen",
        goToDetails: "Mehr erfahren"
      }
    };

    function setLanguage(lang) {
      document.documentElement.lang = lang;
      document.documentElement.dir = lang === 'ar' ? 'rtl' : 'ltr';
      localStorage.setItem('language', lang);
      const t = translations[lang];
      document.getElementById("pageTitle").textContent = t.title;
      document.getElementById("introText").textContent = t.intro;
      document.getElementById("studyLangLabel").textContent = t.studyLang;
      document.getElementById("campusTypeLabel").textContent = t.campusType;
      document.getElementById("learningTypeLabel").textContent = t.learningType;
      document.getElementById("internshipLabel").textContent = t.internship;
      document.getElementById("employmentLabel").textContent = t.employment;
      document.getElementById("nextBtn").textContent = t.next;

      document.getElementById("langOptions").innerHTML = `
        <label class='mr-4'><input type='radio' name='studyLang' value='en' class='mr-1'/> ${t.langOptions[0]}</label>
        <label class='mr-4'><input type='radio' name='studyLang' value='de' class='mr-1'/> ${t.langOptions[1]}</label>
      `;

      document.getElementById("campusOptions").innerHTML = t.campusOptions.map((c, i) => `<label class='mr-4'><input type='radio' name='campusType' value='${i === 0 ? 'urban' : 'rural'}' class='mr-1'/> ${c}</label>`).join('');
      document.getElementById("learningOptions").innerHTML = ["online", "hybrid", "campus"].map((val, i) => `<label class='mr-4'><input type='radio' name='learningType' value='${val}' class='mr-1'/> ${t.learningOptions[i]}</label>`).join('');

      document.getElementById("internshipOptions").innerHTML = `<label class='mr-4'><input type='radio' name='internship' value='yes' class='mr-1'/> ${t.yes}</label><label class='mr-4'><input type='radio' name='internship' value='no' class='mr-1'/> ${t.no}</label>`;
      document.getElementById("employmentOptions").innerHTML = `<label class='mr-4'><input type='radio' name='employment' value='yes' class='mr-1'/> ${t.yes}</label><label class='mr-4'><input type='radio' name='employment' value='no' class='mr-1'/> ${t.no}</label>`;
    }

    function classifyAndShowDiv() {
      const studyLang = document.querySelector("input[name='studyLang']:checked")?.value;
      const learningType = document.querySelector("input[name='learningType']:checked")?.value;
      const internship = document.querySelector("input[name='internship']:checked")?.value;
      const employment = document.querySelector("input[name='employment']:checked")?.value;

      const isIT = studyLang === 'en' && learningType === 'online' && internship === 'yes' && employment === 'yes';

      document.getElementById("itRecommendation").classList.toggle("hidden", !isIT);
      document.getElementById("engMedRecommendation").classList.toggle("hidden", isIT);
    }

    window.onload = () => {
      const savedLang = localStorage.getItem("language") || "en";
      document.getElementById("languageSelect").value = savedLang;
      setLanguage(savedLang);
    };
  </script>
</head>
<body class="bg-gray-50 min-h-screen p-6">
  <header class="flex justify-between items-center mb-6">
    <h1 id="pageTitle" class="text-2xl font-bold">Step 3 – Personal Preferences</h1>
    <select id="languageSelect" class="border rounded p-1" onchange="setLanguage(this.value)">
      <option value="en">English</option>
      <option value="ar">العربية</option>
      <option value="de">Deutsch</option>
    </select>
  </header>

  <main class="bg-white p-6 rounded shadow-md max-w-2xl mx-auto">
    <p id="introText" class="mb-4">Please select your preferences to receive personalized recommendations:</p>

    <div class="mb-4">
      <label id="studyLangLabel" class="font-semibold block mb-1">Preferred Study Language:</label>
      <div id="langOptions" class="flex flex-wrap"></div>
    </div>

    <div class="mb-4">
      <label id="campusTypeLabel" class="font-semibold block mb-1">Preferred Campus Type:</label>
      <div id="campusOptions" class="flex flex-wrap"></div>
    </div>

    <div class="mb-4">
      <label id="learningTypeLabel" class="font-semibold block mb-1">Learning Mode:</label>
      <div id="learningOptions" class="flex flex-wrap"></div>
    </div>

    <div class="mb-4">
      <label id="internshipLabel" class="font-semibold block mb-1">Do you want internship availability?</label>
      <div id="internshipOptions" class="flex flex-wrap"></div>
    </div>

    <div class="mb-6">
      <label id="employmentLabel" class="font-semibold block mb-1">Important to have strong employment outcomes?</label>
      <div id="employmentOptions" class="flex flex-wrap"></div>
    </div>

    <button onclick="classifyAndShowDiv()" id="nextBtn" class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 inline-block text-center">
      See Recommendation
    </button>

    <div id="itRecommendation" class="mt-6 p-4 bg-green-100 text-green-800 rounded hidden">
      <strong>Recommendation:</strong> IT Field is highly suitable based on your preferences.
      <a href="it_programs.html" class="mt-2 inline-block text-green-600 underline">More Info</a>
    </div>

    <div id="engMedRecommendation" class="mt-6 p-4 bg-blue-100 text-blue-800 rounded hidden">
      <strong>Recommendation:</strong> Consider Engineering or Medical fields based on your preferences.
      <a href="eng_med.html" class="mt-2 inline-block text-blue-600 underline">More Info</a>
    </div>
  </main>
</body>
</html>
